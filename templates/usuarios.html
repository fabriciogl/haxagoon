<!--
  ~ Copyright (c) 2021. Hexagoon. Criador: Fabricio Gatto Lourençone. Todos os direitos reservados.
  -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link href="/estaticos/css/bootstrap.min.css" rel="stylesheet">
    <script async src="/estaticos/js/usuarios.js"></script>
    <title>Lista de Usuarios</title>
</head>
<body>
<h3 class="text-black-50 text-center">Lista de Usuarios</h3>
<input type="button" value="Criar Usuário" onclick="showFormUsuario()">
<form id="criaUsuario" style="display: none">
    <table>
        <tr>
            <td><label for="nome">Nome</label></td>
            <td><input type="text" value="nome" id="nome"></td>
        </tr>
        <tr>
            <td><label for="email">Email</label></td>
            <td><input type="email" value="email" id="email"></td>
        </tr>
        <tr>
            <td><label for="senha">Senha</label></td>
            <td><input type="password" value="senha" id="senha"></td>
        </tr>
        <input type="button" value="Submeter" onclick="submeterUsuario()">
    </table>
</form>

<div id="navigation" class="container">
    {% for usuario in usuarios %}
        <table class="table table-striped table-bordered table-condensed" layout="usuario">
            <tr>
                <td>Nome</td>
                <td colspan="2" id="u{{ usuario.id }}">{{ usuario.nome }}</td>
            </tr>
            <tr>
                <td>Email</td>
                <td colspan="2" id="e{{ usuario.id }}">{{ usuario.email }}</td>
            </tr>
            <tr>
                <td>Ativo</td>
                <td colspan="2" id="ua{{ usuario.id }}">{{ 'Sim' if usuario.ativo else 'Não'}}</td>
            </tr>
            <tr>
                <td>Criado Em</td>
                <td colspan="2">{{ usuario.criado_em|timeformat if usuario.criado_em else ''}}</td>
            </tr>
            <tr>
                <td>Criado Por</td>
                <td colspan="2">{{ usuario.criado_por.nome }}</td>
            </tr>
            <tr>
                <td>Alterado Em</td>
                <td colspan="2">{{ usuario.alterado_em|timeformat if usuario.alterado_em else '' }}</td>
            </tr>
            <tr>
                <td>Alterado Por</td>
                <td colspan="2">{{ usuario.alterado_por.nome }}</td>
            </tr>
            <tr>
                <td>Deletado Em</td>
                <td colspan="2">{{ usuario.deletado_em|timeformat if usuario.deletado_em else ''}}</td>
            </tr>
            <tr>
                <td>Deletado Por</td>
                <td colspan="2">{{ usuario.deletado_por.nome }}</td>
            </tr>
            <tr>
                <td class="text-center"><input type="button" onclick="excluirUsuario({{ usuario.id }})" value="Excluir" class="btn-danger"></td>
                <td class="text-center"><input type="button" onclick="desativarUsuario({{ usuario.id }})" value="Desativar" class="btn-warning"></td>
                <td class="text-center"><input type="button" onclick="ativarUsuario({{ usuario.id }})" value="Ativar" class="btn-success"></td>
            </tr>
        </table>
    {% endfor %}
</div>

</body>
</html>